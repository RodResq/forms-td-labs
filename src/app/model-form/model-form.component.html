<form novalidate #f="ngForm">
    <fieldset ngModelGroup="name">
      <div class="form-group">
        <label>First Name</label>
        <input 
          type="text"
          class="form-control"
          name="firstName"
          [(ngModel)]="model.firstName">
      </div>
      <div class="form-group">
        <label>Last Name</label>
        <input 
          type="text"
          class="form-control"
          name="lastName"
          [(ngModel)]="model.lastName">
      </div>
    </fieldset>
    
    <div class="form-group"
      [ngClass]="{
        'has-danger': email.invalid && (email.dirty || email.touched),
        'has-success': email.valid && (email.dirty || email.touched)
      }">
      <label>Email</label>
      <input 
        type="email"
        class="form-control"
        name="email"
        [(ngModel)]="model.email"
        #email="ngModel"
        required
        pattern="[^ @]*@[^ @]*">
      </div>
      <pre>Valid? {{ f.form.controls.email?.valid }}</pre>
      <pre>Dirty? {{ f.form.controls.email?.dirty }}</pre>
      <pre>Touched? {{ f.form.controls.email?.touched }}</pre>
    <div class="form-group">
      <label>Password</label>
      <input 
        type="password"
        class="form-control"
        name="password"
        [(ngModel)]="model.password"
        required
        minlength="8">
    </div>
    <div class="form-group">
      <label>Language</label>
      <select 
        class="form-control" 
        name="language"
        [(ngModel)]="model.language">
        <option value="">Please select a language</option>
        <option
          *ngFor="let lang of langs"
          [value]="lang">
          {{lang}}
        </option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary" (click)="onSubmit(f)">Submit</button>
    <hr>
    <pre>{{ f.value | json }}</pre>
    <div class="form-control-feedback"
      *ngIf="email.errors && (email.dirty || email.touched)">
      <p *ngIf="email.errors.required">Email is required</p>
      <p *ngIf="email.errors.minlength">Email must contain at least the @ character</p>
    </div>
  </form>